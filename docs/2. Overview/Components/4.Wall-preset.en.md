# Wall Preset

## 1. What is a Wall Preset?

A Wall Preset is a Struct that defines how a generated `SplineArchitectWall` actor will look. It's located in the Preset category of a `SplineArchitectWall` actor (in the Details panel).

![img](assets/wall-preset.jpg){ width="300px" }

---

## 2. What do the Wall Preset parameters do?

### FloorSurfaces parameters (FWallPreset):

| Parameter               | Example |
|-------------------------|---------|
| **WallHeight**<br>– Sets the height of the wall; this value determines the scale for all meshes. | |
| **HeightOverride**<br>– If `true`, allows manual override of wall height; otherwise, `WallHeight` is taken from the first `WallMeshes` array element. | |
| **WallLength**<br>– Sets the length of the wall; spline segments will be divided according to this value. | |
| **LengthOverride**<br>– If `true`, allows manual override of wall length; otherwise, `WallLength` is taken from the first `WallMeshes` array element. | |
| **CornerLength**<br>– Sets the corner length; this value is subtracted from segments to form a corner. | |
| **CornerLengthOverride**<br>– If `true`, allows manual override of corner length; otherwise, it's taken from `CornerMesh`. | |
| **RandomizeSegmentsBy**<br>– Randomly alters segment lengths up to the given threshold. | |
| **WallZHandling**<br>– Determines how to handle Z-axis height differences between segments (`KeepZ`, `FollowSpline`, `Skew`). | |
| **SkipPieces**<br>– Allows skipping specific segments (straight or angled). | |
| **Inset**<br>– Offsets meshes inward or outward from the spline by a given distance. | |
| **OverlapPiecesBy**<br>– Overlap size to prevent gaps caused by imperfect mesh edges. | |
| **NumFloors**<br>– Number of times to duplicate the segments vertically with offset equal to `WallHeight` (number of floors). | |
| **WallMeshes**<br>– Main meshes for wall segments; the best fit is chosen based on segment length. | |
| **FillerWallMeshes**<br>– Additional meshes used to fill gaps so that the main `WallMeshes` don't stretch or shrink. | |
| **MinFillerWallLength**<br>– Minimum length for filler meshes; shorter meshes won’t be used. | |
| **KeepWorldScale**<br>– If `true`, meshes are not scaled to fit the segment, and retain their original scale. | |
| **WorldScale**<br>– Original scale applied to meshes when `KeepWorldScale` is `true`. | |
| **CornerMesh**<br>– Mesh used to form corners. | |
| **CornerType**<br>– Type of corner: `Straight`, `Bend`, `Chamfer`, or `Pipe`. | |
| **OffsetBy**<br>– Offsets all meshes by a given vector. | |
| **RandomizeLocationBy**<br>– Randomizes mesh positions within the given vector (recommended small values to avoid Z-fighting). | |
| **FloorSurfaces**<br>– Array of floor surface configurations; each element defines the parameters of a floor surface. | |
| **PostConfigurations**<br>– Array of post configurations determining how and where posts will be generated. | |
| **RandomisationSettings**<br>– Randomization settings for mesh distribution and transforms. | |
| **MaterialParameters**<br>– Array of material parameters allowing customization of specific material properties on certain meshes. | |

### FloorSurfaces parameters (FFloorData):

| Parameter               | Example |
|-------------------------|---------|
| **Material**<br>– Material applied to the floor surface. | |
| **AlignTo**<br>– Floor alignment relative to wall: `Top`, `Center`, or `Bottom`. | |
| **ZOffset**<br>– Vertical offset for floor placement. | |
| **Inset**<br>– Inward or outward offset of floor from the wall contour. | |
| **Thickness**<br>– Floor thickness (extrusion height). | |
| **Subdivisions**<br>– Controls polygon count of the floor. | |
| **BendsResolution**<br>– Vertex spacing for curved corners. | |
| **UVScale**<br>– Scales UV coordinates of the floor. | |
| **FillColor**<br>– Vertex color applied to all non-edge vertices. | |
| **EdgesColor**<br>– Vertex color for edges. | |
| **ColorBlurIterations**<br>– More iterations = smoother vertex color blending. | |
| **UseDelaunayTriangulation**<br>– Enables Delaunay triangulation for better mesh quality. If the floor mesh doesn't work, try disabling this. | |

### PostConfigurations parameters (FPostData):

| Parameter               | Example |
|-------------------------|---------|
| **PostMesh**<br>– Mesh used for generating posts. | |
| **GenerationMethod**<br>– Method for placing posts: `OnCorners`, `OnSplinePoints`, `BetweenSegments`, `OnCustomPieces`, `Periodically`, `StartAndEnd`. | |
| **AverageDirections**<br>– Used only when `GenerationMethod` is `OnSplinePoints`. Averages directions. | |
| **PeriodDistance**<br>– Used when `GenerationMethod` is `Periodically`. Defines distance between posts. | |
| **PostOffset**<br>– Offsets posts by a vector (X = along spline, Y = inward/outward, Z = vertical). | |
| **AddRotation**<br>– Adds rotation to all posts. | |
| **bScaleToWallHeight**<br>– Automatically scales post to match `WallHeight`. | |
| **PostScale**<br>– Adjusts the scale of the post. | |
| **SkipRule**<br>– Can skip posts if the segment is flat or angled. | |

### RandomisationSettings parameters (FRandomSettings):

| Parameter               | Example |
|-------------------------|---------|
| **RandomMeshes**<br>– Array of `FRandomMeshes` structs defining random replacement rules for meshes. | |

#### FRandomMeshes parameters:

| Parameter               | Example |
|-------------------------|---------|
| **KeyMesh**<br>– Target mesh to be randomly replaced by one from the `RandomMeshes` array (including itself). | |
| **RandomMeshes**<br>– Array of meshes with weights (`FRandomMeshWithWeight`), from which a random one is selected. Higher weight = higher chance. | |
| **FitRandomType**<br>– `MatchScale` or `KeepScale` – whether to scale the mesh to fit or keep its original size. | |
| **Knockout**<br>– Controls how many meshes to randomly remove (0.0f = none, 1.0f = all). | |
| **MirrorX/Y/Z**<br>– Allows scaling by -1 on specific axes. Only works when converting to `StaticMeshComponents`. | |
| **Rot90**<br>– Randomly rotates meshes by 90, 180, or 270 degrees. | |
| **Rot180**<br>– Randomly rotates meshes by 180 degrees only. | |

### MaterialParameters parameters (FMatParams):

| Parameter               | Example |
|-------------------------|---------|
| **MaterialApplicationMode**<br>– Application mode: `Include` (only listed), `Exclude` (all except listed), or `All`. | |
| **MaterialReferences**<br>– List of materials to apply parameters to (when mode is not `All`). | |
| **MeshApplicationMode**<br>– Mesh selection mode: `Include`, `Exclude`, or `All`. Lets you change material parameters on specific meshes. | |
| **StaticMeshReferences**<br>– List of meshes to apply parameters to (when mode is not `All`). | |
| **Parameters**<br>– Array of material parameters (`FMatParam`). | |

#### FMatParam parameters:

| Parameter               | Example |
|-------------------------|---------|
| **ParameterName**<br>– Name of the material parameter to modify. | |
| **ParameterType**<br>– Type of parameter: `Float` or `Vector`. | |
| **FloatValue**<br>– Value when type is `Float`. | |
| **ColorValue**<br>– Value when type is `Vector` (color). | |
